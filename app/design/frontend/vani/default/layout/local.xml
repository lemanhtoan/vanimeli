<?xml version="1.0" encoding="UTF-8"?>

<!--
/**
 * local.xml
 * Local layout modifications for our local theme
 * @category    design
 * @package     royal
 * @copyright   Copyright (c) 2016 Toanlm.
-->

<layout version="0.1.0">
    <default translate="label" module="page">

        <reference name="root">
            <action method="setTemplate">
                <template>page/3columns.phtml</template>
            </action>
        </reference>

        <reference name="head">

            <!-- Adding Javascripts -->
            <!-- Adding Javascripts -->
            <action method="addItem">
                <type>skin_js</type>
                <name>js/jquery-1.9.1.min.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/vendor/modernizr-2.8.3-respond-1.4.2.min.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/vendor/bootstrap.min.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/owl.carousel.min.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/carousal.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/main.js</name>
            </action>

            <!-- Adding font-awesome Css -->
            <action method="addCss">
                <stylesheet>css/font-awesome.min.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/bootstrap.min.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/bootstrap-theme.min.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/owl.carousel.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/owl.theme.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/owl.transitions.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/main.css</stylesheet>
            </action>
            <!-- Adding the styles.css -->
            <action method="addItem">
                <type>skin_css</type>
                <stylesheet>css/owl.transitions.css</stylesheet>
            </action>

            <block type="core/text" name="head.viewport">
                <action method="setText"><text><![CDATA[<meta name="viewport" content="initial-scale=1.0, width=device-width" />]]>&#10;</text></action>
            </block>

        </reference>
        <!-- end HEAD -->

        <reference name="header">
            <!-- add mega menu -->
            <block name="leftmenu" type="megamenu/megamenu" template="megamenu/megamenu-left.phtml" before="-"/>
        </reference>


        <block type="page/html_notices" name="global_notices" as="global_notices" template="page/html/notices.phtml" />

        <block type="page/html_header" name="header" as="header">
            <block type="page/template_links" name="top.links" as="topLinks"/>
            <block type="page/switch" name="store_language" as="store_language" template="page/switch/languages.phtml"/>
            <block type="core/text_list" name="top.menu" as="topMenu" translate="label">
                <label>Navigation Bar</label>
                <block type="page/html_topmenu" name="catalog.topnav" template="page/html/topmenu.phtml">
                    <block type="page/html_topmenu_renderer" name="catalog.topnav.renderer" template="page/html/topmenu/renderer.phtml"/>
                </block>
            </block>
            <block type="page/html_wrapper" name="top.container" as="topContainer" translate="label">
                <label>Page Header</label>
                <action method="setElementClass"><value>top-container</value></action>
            </block>
            <block type="page/html_welcome" name="welcome" as="welcome"/>
        </block>

        <block type="page/html_breadcrumbs" name="breadcrumbs" as="breadcrumbs"/>

        <block type="core/text_list" name="left_first" as="left_first" translate="label">
            <label>Left Column First (shows above main column on smaller screens)</label>
        </block>

        <block type="core/text_list" name="left" as="left" translate="label">
            <label>Left Column</label>
        </block>

        <block type="core/messages" name="global_messages" as="global_messages"/>
        <block type="core/messages" name="messages" as="messages"/>

        <block type="core/text_list" name="content" as="content" translate="label">
            <label>Main Content Area</label>
        </block>

        <block type="core/text_list" name="right" as="right" translate="label">
            <label>Right Column</label>
        </block>

        <block type="page/html_wrapper" name="footer.before" as="footer_before" translate="label">
            <label>Page Footer</label>
            <action method="setElementClass"><value>footer-before-container</value></action>
        </block>

        <block type="page/html_footer" name="footer" as="footer" template="page/html/footer.phtml">
            <block type="page/html_wrapper" name="bottom.container" as="bottomContainer" translate="label">
                <label>Page Footer</label>
                <action method="setElementClass"><value>bottom-container</value></action>
            </block>
            <block type="page/switch" name="store_switcher" as="store_switcher" after="*" template="page/switch/stores.phtml"/>
            <block type="page/template_links" name="footer_links" as="footer_links" template="page/template/links.phtml">
                <action method="setTitle"><title>Quick Links</title></action>
            </block>
            <block type="page/template_links" name="footer_links2" as="footer_links2" template="page/template/links.phtml">
                <action method="setTitle"><title>Account</title></action>
            </block>
            <!-- This static block can be created and populated in admin. The footer_links cms block can be used as a starting point. -->
            <!--<block type="cms/block" name="footer_social_links">
                <action method="setBlockId"><block_id>footer_social_links</block_id></action>
            </block>-->
        </block>

        <block type="core/text_list" name="before_body_end" as="before_body_end" translate="label">
            <label>Page Bottom</label>
            <block type="page/html_cookieNotice" name="global_cookie_notice" as ="global_cookie_notice" template="page/html/cookienotice.phtml" before="-" />
        </block>

        <block type="core/profiler" output="toHtml" name="core_profiler"/>



        <!--<reference name="footer">-->
            <!--<block type="cms/block" name="footer-cmslinks" as="footer-cmslinks">-->
                <!--<action method="setBlockId">-->
                    <!--<block_id>footer-cmslinks</block_id>-->
                <!--</action>-->
            <!--</block>-->

            <!--<block type="cms/block" name="footer-cards" as="footer-cards">-->
                <!--<action method="setBlockId">-->
                    <!--<block_id>footer-cards</block_id>-->
                <!--</action>-->
            <!--</block>-->
        <!--</reference>-->

    </default>

    <catalog_category_default>

        <reference name="product_list">
            <action method="setColumnCount">
                <count>4</count>
            </action>
        </reference>

        <reference name="root">
            <action method="setTemplate">
                <template>page/2columns-left.phtml</template>
            </action>
        </reference>

    </catalog_category_default>

    <catalog_category_layered>

        <reference name="product_list">
            <action method="setColumnCount">
                <count>4</count>
            </action>
        </reference>

        <reference name="root">
            <action method="setTemplate">
                <template>page/2columns-left.phtml</template>
            </action>
        </reference>

        <reference name="left">
            <block type="catalog/product_compare_sidebar" after="cart_sidebar" name="catalog.compare.sidebar" template="catalog/product/compare/sidebar.phtml"/>
        </reference>

    </catalog_category_layered>

    <catalog_product_view>

        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>

        <reference name="head">
            <action method="addItem">
                <type>skin_js</type>
                <name>js/elevatezoom/modernizr.custom.min.js</name>
            </action>
            <action method="addItem">
                <type>skin_js</type>
                <name>js/elevatezoom/jquery.elevatezoom.js</name>
            </action>
        </reference>

        <reference name="content">
            <block type="catalog/product_list_related" name="catalog.product.related" as="related" template="catalog/product/list/related.phtml"/>
        </reference>
    </catalog_product_view>

    <!-- search layout -->
    <catalogsearch_result_index translate="label">
        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>
    </catalogsearch_result_index>

    <!--checkout cart-->
    <checkout_cart_index>
        <remove name="checkout.cart.shipping" />
    </checkout_cart_index>


    <!-- Custom page layout handles -->
    <page_empty translate="label">
        <label>All Empty Layout Pages</label>
        <reference name="root">
            <action method="setTemplate"><template>page/empty.phtml</template></action>
            <!-- Mark root page block that template is applied -->
            <action method="setIsHandle"><applied>1</applied></action>
            <action method="setLayoutCode"><name>empty</name></action>
        </reference>
    </page_empty>

    <page_one_column translate="label">
        <label>All One-Column Layout Pages</label>
        <reference name="root">
            <action method="setTemplate"><template>page/1column.phtml</template></action>
            <!-- Mark root page block that template is applied -->
            <action method="setIsHandle"><applied>1</applied></action>
            <action method="setLayoutCode"><name>one_column</name></action>
        </reference>
    </page_one_column>

    <page_two_columns_left translate="label">
        <label>All Two-Column Layout Pages (Left Column)</label>
        <reference name="root">
            <action method="setTemplate"><template>page/2columns-left.phtml</template></action>
            <!-- Mark root page block that template is applied -->
            <action method="setIsHandle"><applied>1</applied></action>
            <action method="setLayoutCode"><name>two_columns_left</name></action>
        </reference>
    </page_two_columns_left>

    <page_two_columns_right translate="label">
        <label>All Two-Column Layout Pages (Right Column)</label>
        <reference name="root">
            <action method="setTemplate"><template>page/2columns-right.phtml</template></action>
            <!-- Mark root page block that template is applied -->
            <action method="setIsHandle"><applied>1</applied></action>
            <action method="setLayoutCode"><name>two_columns_right</name></action>
        </reference>
    </page_two_columns_right>

    <page_three_columns translate="label">
        <label>All Three-Column Layout Pages</label>
        <reference name="root">
            <action method="setTemplate"><template>page/3columns.phtml</template></action>
            <!-- Mark root page block that template is applied -->
            <action method="setIsHandle"><applied>1</applied></action>
            <action method="setLayoutCode"><name>three_columns</name></action>
        </reference>
    </page_three_columns>

</layout>

